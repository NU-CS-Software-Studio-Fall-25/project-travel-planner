<% content_for :title, "My Profile - Travel Planner" %>

<div class="container my-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow">
        <div class="card-header d-flex justify-content-between align-items-center">
          <h1 class="mb-0">My Account</h1>
          <%= link_to "Edit Profile", edit_user_path(@user), class: "btn btn-outline-primary" %>
        </div>
        <div class="card-body">
          <dl class="row">
            <dt class="col-sm-3">Name:</dt>
            <dd class="col-sm-9"><%= @user.name %></dd>
            <dt class="col-sm-3">Email:</dt>
            <dd class="col-sm-9"><%= @user.email %></dd>
            <dt class="col-sm-3">Current Country:</dt>
            <dd class="col-sm-9">
              <span class="badge bg-primary">
                <%= @user.current_country || 'United States' %>
              </span>
            </dd>
            <dt class="col-sm-3">Member Since:</dt>
            <dd class="col-sm-9"><%= @user.created_at.strftime("%B %d, %Y") %></dd>
            <dt class="col-sm-3">Total Travel Plans:</dt>
            <dd class="col-sm-9"><%= @user.travel_plans.count %></dd>
          </dl>
          <hr>
          <div class="mt-4">
            <h5>Quick Actions</h5>
            <p>Manage your trips or create a new one.</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start">
              <%= link_to "🗺️ My Travel Plans", travel_plans_path, class: "btn btn-primary" %>
              <%= link_to "✈️ Plan a New Trip", travel_recommendations_path, class: "btn btn-success" %>
            </div>
          </div>
        </div>
        <div class="card-footer">
          <div class="d-flex justify-content-end">
            <%= button_to "Delete Account", @user, method: :delete,
                  data: { confirm: "Are you sure? This will delete all your travel plans and data." },
                  class: "btn btn-outline-danger btn-sm" %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
