<p class="mt-2 text-success"><%= notice %></p>

<div class="container my-4">
  <div class="alert alert-info" role="alert">
    <h5 class="alert-heading">Destination Details</h5>
    <p class="mb-0">Use <strong>Edit</strong> to update information (dates, notes, budget), or <strong>Delete</strong> to remove it from your list. The map below shows the destination's location and helps you plan routes and nearby places to visit.</p>
  </div>
  
  <%= render 'header', destination: @destination %>
  
  <div class="card shadow">
    <div class="card-body">
      <div data-controller="map" data-map-lat-value="<%= @destination.latitude %>" data-map-lng-value="<%= @destination.longitude %>">
        <div id="destination-map" data-map-target="map" style="width:100%;height:400px;border:1px solid #ddd;border-radius:8px"></div>
        <div data-map-target="fallback" class="text-muted small mt-2" style="display:none">Map unavailable â€” coordinates missing or failed to load. To fix this, edit the destination and add an address or coordinates, or check your Google Maps API settings.</div>
      </div>
    </div>
    <div class="card-footer">
      <%= link_to "Edit", edit_destination_path(@destination), class: "btn btn-outline-warning" %>
      <%= button_to "Delete", destination_path(@destination), method: :delete, class: "btn btn-outline-danger", data: { turbo_confirm: "Are you sure you want to delete this destination?" } %>
      <%= link_to "Back to All Destinations", destinations_path, class: "btn btn-outline-primary" %>
    </div>
  </div>
</div>
